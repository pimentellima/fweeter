{"ast":null,"code":"import _objectSpread from\"C:/Users/mathe/OneDrive/Documentos/vsc/chatapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/mathe/OneDrive/Documentos/vsc/chatapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/mathe/OneDrive/Documentos/vsc/chatapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mathe/OneDrive/Documentos/vsc/chatapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useState,useEffect}from'react';import{useFieldArray,useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FweetForm=function FweetForm(_ref){var sendData=_ref.sendData;var _useForm=useForm({title:'',description:'',ingredients:[]}),register=_useForm.register,unregister=_useForm.unregister,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,control=_useForm.control,setFocus=_useForm.setFocus,errors=_useForm.formState.errors;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return sendData(data);case 2:reset();case 3:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();var _useFieldArray=useFieldArray({control:control,name:'ingredients'}),ingredientFieldsArray=_useFieldArray.fields,append=_useFieldArray.append,remove=_useFieldArray.remove;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];useEffect(function(){if(!description){unregister('description');}else{setFocus('description');}},[description]);return/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",className:\"col-span-9 flex flex-col flex-grow\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col pl-3 box-border pb-3 border-b border-stone-700\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('title',{required:true})),{},{className:\"py-2 placeholder:text-stone-400 text-lg bg-inherit text-white\",placeholder:\"Qual receita voc\\xEA est\\xE1 fazendo agora?\"})),description&&/*#__PURE__*/_jsxs(\"div\",{className:\"h-14 w-[90%] mt-2 grid grid-flow-col grid-cols-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"description\"},register('description')),{},{placeholder:\"Descri\\xE7\\xE3o\",className:\"col-span-5 rounded-l-md border border-stone-700 hover:border-stone-600 focus:border-stone-600 pl-2 bg-inherit placeholder:text-stone-500\"})),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setDescription(false);},className:\"text-sm bg-stone-700 border border-stone-700 active:border-stone-500 hover:bg-stone-600 transition-colors\",children:\"-\"})]}),ingredientFieldsArray.length>0&&ingredientFieldsArray.map(function(field,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"h-14 w-[90%] mt-2 grid grid-flow-col grid-cols-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"ingredients.\".concat(index,\".name\"))),{},{className:\"rounded-l-md border-t border-l border-b border-stone-700 hover:border-stone-600 focus:border-stone-600 pl-2 col-span-3 bg-inherit placeholder:text-stone-500 \",placeholder:\"Nome do ingrediente\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"ingredients.\".concat(index,\".quantity\"))),{},{className:\"pl-2 bg-inherit placeholder:text-stone-500 border-l border-t border-b border-stone-700 hover:border-stone-600 focus:border-stone-600\",placeholder:\"Qtd\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"ingredients.\".concat(index,\".unity\"))),{},{className:\"pl-2 bg-inherit placeholder:text-stone-500 border border-stone-700 hover:border-stone-600 focus:border-stone-600\",placeholder:\"Uni\"})),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return remove(index);},className:\"text-sm bg-stone-700 border border-stone-700 active:border-stone-500 hover:bg-stone-600 transition-colors\",children:\"-\"})]},field.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-flow-col mt-2 mx-2 items-center justify-items-start\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();setDescription(true);},className:\"text-stone-200 p-2 rounded-2xl transition-colors text-sm hover:bg-stone-700 active:bg-stone-600\",children:\"Adicionar descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();append({name:'',quantity:'',unity:''});},className:\"text-stone-200 p-2 rounded-2xl transition-colors text-sm hover:bg-stone-700 active:bg-stone-600\",children:\"Adicionar ingrediente\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Fweet\",className:\"\".concat(errors.title?'opacity-50':'opacity-100 hover:cursor-pointer hover:bg-stone-600',\" opacity-50 justify-self-end py-1 px-5 text-lg transition ease-out duration-100 font-bold rounded-3xl bg-stone-500 \")})]})]});};export default FweetForm;","map":{"version":3,"names":["useState","useEffect","useFieldArray","useForm","FweetForm","sendData","title","description","ingredients","register","unregister","handleSubmit","reset","control","setFocus","errors","formState","onSubmit","data","name","ingredientFieldsArray","fields","append","remove","setDescription","required","length","map","field","index","id","e","preventDefault","quantity","unity"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/chatapp/src/components/fweetForm.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useFieldArray, useForm } from 'react-hook-form'\r\n\r\nconst FweetForm = ({ sendData }) => {\r\n    const { \r\n        register, \r\n        unregister, \r\n        handleSubmit, \r\n        reset,\r\n        control,\r\n        setFocus,\r\n        formState: { errors }\r\n    } = useForm({\r\n        title: '',\r\n        description: '',\r\n        ingredients: []\r\n    });    \r\n\r\n    const onSubmit = async (data) => {\r\n        await sendData(data);\r\n        reset();\r\n    }\r\n\r\n    const { \r\n        fields: ingredientFieldsArray, \r\n        append, \r\n        remove\r\n     } = useFieldArray({\r\n            control,\r\n            name: 'ingredients'\r\n        });\r\n\r\n    const [description, setDescription] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(!description) {\r\n            unregister('description');\r\n        }\r\n        else {\r\n            setFocus('description');\r\n        }\r\n    }, [description])    \r\n\r\n    return(\r\n        <form autoComplete='off' className=\"col-span-9 flex flex-col flex-grow\" onSubmit={handleSubmit(onSubmit)}>\r\n            <div className='flex flex-col pl-3 box-border pb-3 border-b border-stone-700'>\r\n                <input {...register('title', { required: true })} className='py-2 placeholder:text-stone-400 text-lg bg-inherit text-white' placeholder='Qual receita você está fazendo agora?'/>\r\n                {description && \r\n                    <div className='h-14 w-[90%] mt-2 grid grid-flow-col grid-cols-6'>\r\n                        <input id='description' {...register('description')} placeholder='Descrição' className='col-span-5 rounded-l-md border border-stone-700 hover:border-stone-600 focus:border-stone-600 pl-2 bg-inherit placeholder:text-stone-500'/>\r\n                        <button onClick={() => setDescription(false)} className='text-sm bg-stone-700 border border-stone-700 active:border-stone-500 hover:bg-stone-600 transition-colors'>-</button> \r\n                    </div>\r\n                }\r\n                {ingredientFieldsArray.length > 0 && ingredientFieldsArray.map((field, index) => (\r\n                    <div key={field.id} className='h-14 w-[90%] mt-2 grid grid-flow-col grid-cols-6'>\r\n                        <input {...register(`ingredients.${index}.name`)} className='rounded-l-md border-t border-l border-b border-stone-700 hover:border-stone-600 focus:border-stone-600 pl-2 col-span-3 bg-inherit placeholder:text-stone-500 ' placeholder='Nome do ingrediente'/>\r\n                        <input {...register(`ingredients.${index}.quantity`)} className='pl-2 bg-inherit placeholder:text-stone-500 border-l border-t border-b border-stone-700 hover:border-stone-600 focus:border-stone-600' placeholder='Qtd'/>\r\n                        <input {...register(`ingredients.${index}.unity`)} className='pl-2 bg-inherit placeholder:text-stone-500 border border-stone-700 hover:border-stone-600 focus:border-stone-600' placeholder='Uni'/>\r\n                        <button onClick={() => remove(index)} className='text-sm bg-stone-700 border border-stone-700 active:border-stone-500 hover:bg-stone-600 transition-colors'>-</button> \r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className=\"grid grid-flow-col mt-2 mx-2 items-center justify-items-start\">\r\n                <button onClick={(e) => {e.preventDefault(); setDescription(true)}} className='text-stone-200 p-2 rounded-2xl transition-colors text-sm hover:bg-stone-700 active:bg-stone-600'>Adicionar descrição</button>\r\n                <button onClick={(e) => {e.preventDefault(); append({ name: '', quantity: '', unity: '' })}} className='text-stone-200 p-2 rounded-2xl transition-colors text-sm hover:bg-stone-700 active:bg-stone-600'>Adicionar ingrediente</button>\r\n                <input type='submit' value='Fweet' className={`${errors.title ? 'opacity-50' : 'opacity-100 hover:cursor-pointer hover:bg-stone-600'} opacity-50 justify-self-end py-1 px-5 text-lg transition ease-out duration-100 font-bold rounded-3xl bg-stone-500 `}/>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FweetForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}