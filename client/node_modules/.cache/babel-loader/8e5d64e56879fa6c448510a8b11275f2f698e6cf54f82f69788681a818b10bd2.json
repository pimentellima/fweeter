{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathe\\\\OneDrive\\\\Documentos\\\\vsc\\\\fwitter\\\\client\\\\src\\\\modules\\\\user\\\\index.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useForm } from 'react-hook-form';\nimport { useLocation } from \"react-router-dom\";\nimport Popup from 'reactjs-popup';\nimport uploadIcon from '../../assets/upload.svg';\nimport { AuthContext } from \"../../contexts/authContext\";\nimport { getFollowedById } from \"../../services/follow\";\nimport { getUserPostsById } from \"../../services/posts\";\nimport { getUserByUrl } from \"../../services/user\";\nimport Post from \"../posts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst overlayStyle = {\n  'background': 'rgba(255,255,255,0.1)',\n  'display': 'flex',\n  'justifyItems': 'center',\n  'alignItems': 'center'\n};\nconst User = () => {\n  _s();\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(AuthContext);\n  const {\n    register,\n    handleSubmit,\n    reset,\n    watch\n  } = useForm({\n    defaultValues: {\n      name: currentUser.name,\n      bio: currentUser.bio,\n      profileImage: '',\n      backgroundImage: ''\n    }\n  });\n  const profileImgWatch = watch('profileImage');\n  const backgroundImgWatch = watch('backgroundImage');\n  const [profileImgPreview, setProfileImgPreview] = useState();\n  const [backgroundImgPreview, setBackgroundImgPreview] = useState();\n  const [posts, setPosts] = useState([]);\n  const [user, setUser] = useState();\n  const location = useLocation();\n  const [followed, setFollowed] = useState(false);\n  const [openPopup, setOpenPopup] = useState(false);\n  useEffect(() => {\n    if (!user) {\n      fetchUser();\n    }\n    if (user) {\n      fetchPosts();\n      fetchFollow();\n    }\n    if (profileImgWatch && profileImgWatch.length) {\n      const url = URL.createObjectURL(profileImgWatch[0]);\n      setProfileImgPreview(url);\n    }\n    if (backgroundImgWatch && backgroundImgWatch.length) {\n      const url = URL.createObjectURL(backgroundImgWatch[0]);\n      setBackgroundImgPreview(url);\n    }\n  }, [user, profileImgWatch, backgroundImgWatch]);\n  const fetchFollow = async () => {\n    const followedUsers = await getFollowedById(user.id);\n    followedUsers.forEach(item => {\n      if (item.follower_user_id === currentUser.id) {\n        setFollowed(true);\n      }\n    });\n  };\n  const fetchUser = async () => {\n    const user = await getUserByUrl(location.pathname);\n    setUser(user);\n  };\n  const fetchPosts = async () => {\n    const posts = await getUserPostsById(user.id);\n    setPosts(posts);\n  };\n  const handleFollow = async () => {\n    followed ? axios.delete('//localhost:5000/follow', {\n      data: {\n        follower_user_id: currentUser.id,\n        followed_user_id: user.id\n      }\n    }).then(() => setFollowed(false)) : axios.post('//localhost:5000/follow', {\n      follower_user_id: currentUser.id,\n      followed_user_id: user.id\n    }).then(() => setFollowed(true));\n  };\n  const handleClose = e => {\n    e.preventDefault();\n    setOpenPopup(false);\n    reset();\n  };\n  const uploadProfileImg = async file => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      const res = await axios.post('//localhost:5000/upload/userProfile', formData);\n      return res.data;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const uploadBackgroundImg = async file => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      const res = await axios.post('//localhost:5000/upload/userBackground', formData);\n      return res.data;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const onSubmit = async data => {\n    const {\n      name,\n      bio,\n      profileImage,\n      backgroundImage\n    } = data;\n    const profileImageUrl = profileImage[0] ? await uploadProfileImg(profileImage[0]) : '';\n    const backgroundImageUrl = backgroundImage[0] ? await uploadBackgroundImg(backgroundImage[0]) : '';\n    const userData = {\n      name,\n      bio,\n      id: currentUser.id,\n      profileImage: profileImageUrl ? profileImageUrl : currentUser.profile_img,\n      backgroundImage: backgroundImageUrl ? backgroundImageUrl : currentUser.profile_bg_img\n    };\n    axios.post('//localhost:5000/user', userData).then(setCurrentUser(userData)).catch(err => {\n      console.log(err);\n    });\n    setOpenPopup(false);\n    reset();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sticky top-0 border-b border-stone-700 pt-2 pb-4 pl-3 font-medium text-xl z-20 bg-stone-800\",\n      children: user && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: [user && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-[450px] flex flex-col border-b border-stone-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative h-64\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"absolute h-44 w-full\",\n            src: `http://localhost:5000/upload/user/${user.profile_bg_img}`,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 flex justify-between w-full items-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"h-32 w-32 ml-4 rounded-full\",\n              src: `http://localhost:5000/upload/user/${user.profile_img}`,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 37\n            }, this), user.id === currentUser.id ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setOpenPopup(true),\n              className: \"h-10 hover:bg-stone-600 hover:cursor-pointer hover:border-stone-500 py-1 px-4 text-md transition ease-in-out duration-300 font-bold rounded-3xl my-2 mr-2 border border-stone-600\",\n              children: \"Editar perfil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 41\n            }, this) : followed ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleFollow(),\n              className: \"h-10 hover:bg-stone-600 hover:cursor-pointer hover:border-stone-500 py-1 px-4 text-md transition ease-in-out duration-300 font-bold rounded-3xl my-2 mr-2 border border-stone-600\",\n              children: \"Deixar de seguir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleFollow(),\n              className: \"h-10 hover:bg-stone-600 hover:cursor-pointer hover:border-stone-500 py-1 px-4 text-md transition ease-in-out duration-300 font-bold rounded-3xl my-2 mr-2 border border-stone-600\",\n              children: \"Seguir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 pl-5 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \" text-2xl\",\n            children: user.name + \"  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-stone-400\",\n            children: '@' + user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-md\",\n            children: user.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }, this), posts && posts.map(post => /*#__PURE__*/_jsxDEV(Post, {\n        postObj: post\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 45\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      open: openPopup,\n      onOpen: () => setOpenPopup(true),\n      onClose: () => setOpenPopup(false),\n      overlayStyle,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        autoComplete: \"off\",\n        className: \"flex flex-col w-[600px] bg-stone-900 rounded-xl pb-14\",\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center py-3 px-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"hover:bg-stone-600 w-2 h-2 rounded-full p-3 flex items-center justify-center transition\",\n            onClick: e => handleClose(e),\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"ml-4 text-2xl font-sans font-medium antialiased tracking-tight text-white \",\n            children: \"Editar perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative h-64\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"backgroundImage\",\n            className: \"hidden\",\n            type: \"file\",\n            ...register('backgroundImage')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute w-full h-44 flex justify-center items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"absolute h-full w-full\",\n              src: backgroundImgPreview ? backgroundImgPreview : `http://localhost:5000/upload/user/${currentUser.profile_bg_img}`,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"backgroundImage\",\n              className: \"absolute rounded-full hover:cursor-pointer z-10 bg-opacity-50 bg-black hover:bg-opacity-40 p-2 h-10 w-10 \",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: uploadIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"profileImage\",\n            className: \"hidden\",\n            type: \"file\",\n            ...register('profileImage')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-1/2 w-32 h-32 flex justify-center items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"absolute rounded-full w-full h-full p-4 z-20\",\n              src: profileImgPreview ? profileImgPreview : `http://localhost:5000/upload/user/${currentUser.profile_img}`,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"profileImage\",\n              className: \"absolute rounded-full hover:cursor-pointer z-30 bg-opacity-50 bg-black hover:bg-opacity-40 p-2 h-10 w-10 \",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: uploadIcon,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col px-4 gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            placeholder: \"Digite aqui... \",\n            className: \"placeholder:text-stone-500 rounded-md text-gray-300 align-middle outline-none h-14 bg-inherit border border-stone-700 py-1 pl-2 focus:placeholder:invisible focus:border-stone-500 hover:border-stone-600 transition-colors\",\n            ...register('name')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"bio\",\n            children: \"Biografia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"bio\",\n            placeholder: \"Digite aqui... \",\n            className: \"placeholder:text-stone-500 rounded-md text-gray-300 align-middle outline-none h-14 bg-inherit border border-stone-700 p2-1 pl-2 focus:placeholder:invisible focus:border-stone-500 hover:border-stone-600 transition-colors\",\n            ...register('bio')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(User, \"vcwwN1WpQ2PL5nbPc4L3Y7b3Ymg=\", false, function () {\n  return [useForm, useLocation];\n});\n_c = User;\nexport default User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["axios","useContext","useEffect","useState","useForm","useLocation","Popup","uploadIcon","AuthContext","getFollowedById","getUserPostsById","getUserByUrl","Post","overlayStyle","User","currentUser","setCurrentUser","register","handleSubmit","reset","watch","defaultValues","name","bio","profileImage","backgroundImage","profileImgWatch","backgroundImgWatch","profileImgPreview","setProfileImgPreview","backgroundImgPreview","setBackgroundImgPreview","posts","setPosts","user","setUser","location","followed","setFollowed","openPopup","setOpenPopup","fetchUser","fetchPosts","fetchFollow","length","url","URL","createObjectURL","followedUsers","id","forEach","item","follower_user_id","pathname","handleFollow","delete","data","followed_user_id","then","post","handleClose","e","preventDefault","uploadProfileImg","file","formData","FormData","append","res","err","console","error","uploadBackgroundImg","onSubmit","profileImageUrl","backgroundImageUrl","userData","profile_img","profile_bg_img","catch","log","username","map"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/modules/user/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useForm } from 'react-hook-form';\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Popup from 'reactjs-popup';\r\nimport uploadIcon from '../../assets/upload.svg';\r\nimport { AuthContext } from \"../../contexts/authContext\";\r\nimport { getFollowedById } from \"../../services/follow\";\r\nimport { getUserPostsById } from \"../../services/posts\";\r\nimport { getUserByUrl } from \"../../services/user\";\r\nimport Post from \"../posts\";\r\n\r\nconst overlayStyle= {\r\n    'background': 'rgba(255,255,255,0.1)',\r\n    'display': 'flex',\r\n    'justifyItems': 'center',\r\n    'alignItems': 'center',\r\n};\r\n\r\nconst User = () => {\r\n    const { currentUser, setCurrentUser } = useContext(AuthContext);\r\n    const { register, handleSubmit, reset, watch } = useForm({\r\n        defaultValues: {    \r\n            name: currentUser.name,\r\n            bio: currentUser.bio,\r\n            profileImage: '',\r\n            backgroundImage: '',\r\n        }\r\n    });\r\n    const profileImgWatch = watch('profileImage');\r\n    const backgroundImgWatch = watch('backgroundImage');\r\n    const [profileImgPreview, setProfileImgPreview] = useState();\r\n    const [backgroundImgPreview, setBackgroundImgPreview] = useState();\r\n    const [posts, setPosts] = useState([]);\r\n    const [user, setUser] = useState();\r\n    const location = useLocation();\r\n    const [followed, setFollowed] = useState(false);\r\n    const [openPopup, setOpenPopup] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if(!user) {\r\n            fetchUser();\r\n        }\r\n        if(user) {\r\n            fetchPosts();\r\n            fetchFollow();\r\n        }\r\n        if(profileImgWatch && profileImgWatch.length) {\r\n            const url = URL.createObjectURL(profileImgWatch[0])\r\n            setProfileImgPreview(url);\r\n        }\r\n        if(backgroundImgWatch && backgroundImgWatch.length) {\r\n            const url = URL.createObjectURL(backgroundImgWatch[0])\r\n            setBackgroundImgPreview(url);\r\n        }\r\n    }, [user, profileImgWatch, backgroundImgWatch]);\r\n\r\n    const fetchFollow = async() => {\r\n        const followedUsers = await getFollowedById(user.id);\r\n        followedUsers.forEach((item) => {\r\n            if(item.follower_user_id === currentUser.id) {\r\n                setFollowed(true);\r\n            } \r\n        })\r\n    }\r\n    \r\n    const fetchUser = async() => {\r\n        const user = await getUserByUrl(location.pathname);\r\n        setUser(user);\r\n    }\r\n\r\n    const fetchPosts = async () => {\r\n        const posts = await getUserPostsById(user.id);\r\n        setPosts(posts);\r\n    }\r\n\r\n    const handleFollow = async() => {\r\n        followed ? \r\n            axios.delete('//localhost:5000/follow', {\r\n                data: {\r\n                    follower_user_id: currentUser.id,\r\n                    followed_user_id: user.id\r\n                }\r\n            }).then(() => setFollowed(false))\r\n        :\r\n            axios.post('//localhost:5000/follow', {\r\n                follower_user_id: currentUser.id,\r\n                followed_user_id: user.id\r\n            }).then(() => setFollowed(true))\r\n    }\r\n\r\n    const handleClose = (e) => {\r\n        e.preventDefault();\r\n        setOpenPopup(false);\r\n        reset();\r\n    };\r\n\r\n    const uploadProfileImg = async (file) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append(\"file\", file);\r\n            const res = await axios.post('//localhost:5000/upload/userProfile', formData);\r\n            return res.data;\r\n        } \r\n        catch(err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n\r\n    const uploadBackgroundImg = async (file) => {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append(\"file\", file);\r\n            const res = await axios.post('//localhost:5000/upload/userBackground', formData);\r\n            return res.data;\r\n        } \r\n        catch(err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n    \r\n    const onSubmit = async (data) => {\r\n        const {name, bio, profileImage, backgroundImage} = data;\r\n        const profileImageUrl = profileImage[0] ? await uploadProfileImg(profileImage[0]) : '';\r\n        const backgroundImageUrl = backgroundImage[0] ? await uploadBackgroundImg(backgroundImage[0]) : '';\r\n        const userData = {\r\n            name,\r\n            bio,\r\n            id: currentUser.id,\r\n            profileImage: profileImageUrl ? profileImageUrl : currentUser.profile_img,\r\n            backgroundImage: backgroundImageUrl ? backgroundImageUrl : currentUser.profile_bg_img\r\n        };\r\n        \r\n        axios.post('//localhost:5000/user', userData)\r\n        .then(setCurrentUser(userData))\r\n        .catch(err => {\r\n            console.log(err)\r\n        });\r\n        setOpenPopup(false);\r\n        reset();\r\n    }\r\n\r\n    \r\n    return ( \r\n        <>\r\n            <div className='sticky top-0 border-b border-stone-700 pt-2 pb-4 pl-3 font-medium text-xl z-20 bg-stone-800'>\r\n                {user && <p>{user.name}</p>}\r\n            </div>  \r\n            <div className=\"flex flex-col\">\r\n                    {user &&\r\n                        <div className=\"h-[450px] flex flex-col border-b border-stone-700\">\r\n                            <div className=\"relative h-64\">\r\n                                <img className=\"absolute h-44 w-full\" src={`http://localhost:5000/upload/user/${user.profile_bg_img}`} alt=''/>\r\n                                <div className=\"absolute top-1/2 flex justify-between w-full items-end\">\r\n                                    <img className='h-32 w-32 ml-4 rounded-full' src={`http://localhost:5000/upload/user/${user.profile_img}`} alt=''/>\r\n                                    {user.id === currentUser.id ? \r\n                                        <button \r\n                                            onClick={() => setOpenPopup(true)}\r\n                                            className='h-10 hover:bg-stone-600 hover:cursor-pointer hover:border-stone-500 py-1 px-4 text-md transition ease-in-out duration-300 font-bold rounded-3xl my-2 mr-2 border border-stone-600'\r\n                                        >\r\n                                            Editar perfil\r\n                                        </button>\r\n                                        :\r\n                                        followed ? \r\n                                            <button onClick={() => handleFollow()}\r\n                                                className='h-10 hover:bg-stone-600 hover:cursor-pointer hover:border-stone-500 py-1 px-4 text-md transition ease-in-out duration-300 font-bold rounded-3xl my-2 mr-2 border border-stone-600'\r\n                                                >\r\n                                                Deixar de seguir\r\n                                            </button>\r\n                                        :\r\n                                            <button onClick={() => handleFollow()}\r\n                                                className='h-10 hover:bg-stone-600 hover:cursor-pointer hover:border-stone-500 py-1 px-4 text-md transition ease-in-out duration-300 font-bold rounded-3xl my-2 mr-2 border border-stone-600'\r\n                                                >\r\n                                                Seguir\r\n                                            </button>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"mt-3 pl-5 flex flex-col\">\r\n                                <p className=\" text-2xl\">{user.name + \"  \"}</p>\r\n                                <p className=\"text-stone-400\">{'@' + user.username}</p>\r\n                                <p className=\"mt-2 text-md\">{user.bio}</p>\r\n                            </div>  \r\n                        </div>\r\n                    }\r\n                {posts && posts.map(post => <Post postObj={post} key={post.id}/>)}\r\n            </div>\r\n            <Popup\r\n                open={openPopup}\r\n                onOpen={() => setOpenPopup(true)}\r\n                onClose={() => setOpenPopup(false)}\r\n                {...{overlayStyle}}\r\n                >   \r\n                <form autoComplete=\"off\" className=\"flex flex-col w-[600px] bg-stone-900 rounded-xl pb-14\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className=\"flex items-center py-3 px-4\">\r\n                        <button type='button' className=\"hover:bg-stone-600 w-2 h-2 rounded-full p-3 flex items-center justify-center transition\" onClick={(e) => handleClose(e)}>x</button>\r\n                        <h1 className=\"ml-4 text-2xl font-sans font-medium antialiased tracking-tight text-white \">Editar perfil</h1>\r\n                        <button type=\"submit\">Salvar</button>\r\n                    </div>\r\n                    <div className=\"relative h-64\">\r\n                        <input id=\"backgroundImage\" className=\"hidden\" type='file' {...register('backgroundImage')}/>\r\n                        <div className=\"absolute w-full h-44 flex justify-center items-center\">\r\n                            <img className=\"absolute h-full w-full\" src={backgroundImgPreview ? backgroundImgPreview : `http://localhost:5000/upload/user/${currentUser.profile_bg_img}`} alt=''/>\r\n                            <label htmlFor=\"backgroundImage\" className=\"absolute rounded-full hover:cursor-pointer z-10 bg-opacity-50 bg-black hover:bg-opacity-40 p-2 h-10 w-10 \">\r\n                                <img src={uploadIcon} alt=''/>\r\n                            </label>\r\n                        </div>\r\n                        <input id=\"profileImage\" className=\"hidden\" type='file' {...register('profileImage')}/>\r\n                        <div className=\"absolute top-1/2 w-32 h-32 flex justify-center items-center\">\r\n                            <img className=\"absolute rounded-full w-full h-full p-4 z-20\" src={profileImgPreview ? profileImgPreview : `http://localhost:5000/upload/user/${currentUser.profile_img}`} alt=''/>\r\n                            <label htmlFor=\"profileImage\" className=\"absolute rounded-full hover:cursor-pointer z-30 bg-opacity-50 bg-black hover:bg-opacity-40 p-2 h-10 w-10 \">\r\n                                <img src={uploadIcon} alt=''/>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col px-4 gap-2\">\r\n                        <label htmlFor=\"name\">Nome</label>\r\n                        <input \r\n                            id='name'\r\n                            placeholder=\"Digite aqui... \"\r\n                            className='placeholder:text-stone-500 rounded-md text-gray-300 align-middle outline-none h-14 bg-inherit border border-stone-700 py-1 pl-2 focus:placeholder:invisible focus:border-stone-500 hover:border-stone-600 transition-colors'\r\n                            {...register('name')}\r\n                            />\r\n                        <label htmlFor=\"bio\">Biografia</label>\r\n                        <input \r\n                            id='bio'\r\n                            placeholder=\"Digite aqui... \"\r\n                            className='placeholder:text-stone-500 rounded-md text-gray-300 align-middle outline-none h-14 bg-inherit border border-stone-700 p2-1 pl-2 focus:placeholder:invisible focus:border-stone-500 hover:border-stone-600 transition-colors'\r\n                            {...register('bio')}\r\n                            />\r\n                    </div>\r\n                </form>\r\n            </Popup>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default User;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}