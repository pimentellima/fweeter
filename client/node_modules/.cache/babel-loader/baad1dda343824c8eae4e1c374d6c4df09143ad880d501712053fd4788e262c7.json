{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport { AuthContext } from \"../contexts/authContext\";\nimport axios from \"axios\";\nexport const useAuth = () => {\n  _s();\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(AuthContext);\n  useEffect(() => {\n    localStorage.setItem('user', JSON.stringify(currentUser));\n  }, [currentUser]);\n  const login = async (username, password) => {\n    const res = await axios.post('//localhost:5000/auth/login', {\n      username,\n      password\n    });\n    setCurrentUser(res.data);\n  };\n  const logout = async () => {\n    setCurrentUser(null);\n  };\n  const fetchCurrentUser = async () => {\n    const user = await getUserByUrl(location.pathname);\n    setCurrentUser(user);\n  };\n  return {\n    currentUser,\n    fetchCurrentUser,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"r1nuj9yVi9euB1N02jsXm8NmQME=\");","map":{"version":3,"names":["useContext","useEffect","AuthContext","axios","useAuth","currentUser","setCurrentUser","localStorage","setItem","JSON","stringify","login","username","password","res","post","data","logout","fetchCurrentUser","user","getUserByUrl","location","pathname"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/hooks/useAuth.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"../contexts/authContext\";\r\nimport axios from \"axios\";\r\n\r\nexport const useAuth = () => {\r\n    const { currentUser, setCurrentUser } = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('user', JSON.stringify(currentUser))\r\n    }, [currentUser])\r\n\r\n    const login = async (username, password) => {\r\n        const res = await axios.post('//localhost:5000/auth/login', {\r\n            username,\r\n            password\r\n        });\r\n        setCurrentUser(res.data);\r\n    }\r\n\r\n    const logout = async() => {\r\n        setCurrentUser(null);\r\n    }\r\n\r\n    const fetchCurrentUser = async() => {\r\n        const user = await getUserByUrl(location.pathname);\r\n        setCurrentUser(user);\r\n    }\r\n\r\n    return { currentUser, fetchCurrentUser, login, logout };\r\n}"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;EACzB,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGN,UAAU,CAACE,WAAW,CAAC;EAE/DD,SAAS,CAAC,MAAM;IACZM,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAAC,CAAC;EAC7D,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMM,KAAK,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;IACxC,MAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,6BAA6B,EAAE;MACxDH,QAAQ;MACRC;IACJ,CAAC,CAAC;IACFP,cAAc,CAACQ,GAAG,CAACE,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMC,MAAM,GAAG,YAAW;IACtBX,cAAc,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMY,gBAAgB,GAAG,YAAW;IAChC,MAAMC,IAAI,GAAG,MAAMC,YAAY,CAACC,QAAQ,CAACC,QAAQ,CAAC;IAClDhB,cAAc,CAACa,IAAI,CAAC;EACxB,CAAC;EAED,OAAO;IAAEd,WAAW;IAAEa,gBAAgB;IAAEP,KAAK;IAAEM;EAAO,CAAC;AAC3D,CAAC;AAAA,GAzBYb,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}