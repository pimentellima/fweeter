{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport { AuthContext } from \"../contexts/authContext\";\nimport axios from \"axios\";\nimport { getUserById } from \"../services/user\";\nexport const useAuth = () => {\n  _s();\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(AuthContext);\n  useEffect(() => {\n    localStorage.setItem('user', JSON.stringify(currentUser));\n  }, [currentUser]);\n  const login = async (username, password) => {\n    const res = await axios.post('//localhost:5000/auth/login', {\n      username,\n      password\n    });\n    setCurrentUser(res.data);\n  };\n  const logout = async () => {\n    setCurrentUser(null);\n    localStorage.removeItem('user');\n  };\n  const fetchCurrentUser = async () => {\n    const user = await getUserById(currentUser.id);\n    console.log(user);\n    setCurrentUser(user);\n  };\n  return {\n    currentUser,\n    fetchCurrentUser,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"r1nuj9yVi9euB1N02jsXm8NmQME=\");","map":{"version":3,"names":["useContext","useEffect","AuthContext","axios","getUserById","useAuth","currentUser","setCurrentUser","localStorage","setItem","JSON","stringify","login","username","password","res","post","data","logout","removeItem","fetchCurrentUser","user","id","console","log"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/hooks/useAuth.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"../contexts/authContext\";\r\nimport axios from \"axios\";\r\nimport { getUserById } from \"../services/user\";\r\n\r\nexport const useAuth = () => {\r\n    const { currentUser, setCurrentUser } = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('user', JSON.stringify(currentUser))\r\n    }, [currentUser])\r\n\r\n    const login = async (username, password) => {\r\n        const res = await axios.post('//localhost:5000/auth/login', {\r\n            username,\r\n            password\r\n        });\r\n        setCurrentUser(res.data);\r\n    }\r\n\r\n    const logout = async() => {\r\n        setCurrentUser(null);\r\n        localStorage.removeItem('user');\r\n    }\r\n\r\n    const fetchCurrentUser = async() => {\r\n        const user = await getUserById(currentUser.id);\r\n        console.log(user);\r\n        setCurrentUser(user);\r\n    }\r\n\r\n    return { currentUser, fetchCurrentUser, login, logout };\r\n}"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;EACzB,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGP,UAAU,CAACE,WAAW,CAAC;EAE/DD,SAAS,CAAC,MAAM;IACZO,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAAC,CAAC;EAC7D,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMM,KAAK,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;IACxC,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,6BAA6B,EAAE;MACxDH,QAAQ;MACRC;IACJ,CAAC,CAAC;IACFP,cAAc,CAACQ,GAAG,CAACE,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMC,MAAM,GAAG,YAAW;IACtBX,cAAc,CAAC,IAAI,CAAC;IACpBC,YAAY,CAACW,UAAU,CAAC,MAAM,CAAC;EACnC,CAAC;EAED,MAAMC,gBAAgB,GAAG,YAAW;IAChC,MAAMC,IAAI,GAAG,MAAMjB,WAAW,CAACE,WAAW,CAACgB,EAAE,CAAC;IAC9CC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACjBd,cAAc,CAACc,IAAI,CAAC;EACxB,CAAC;EAED,OAAO;IAAEf,WAAW;IAAEc,gBAAgB;IAAER,KAAK;IAAEM;EAAO,CAAC;AAC3D,CAAC;AAAA,GA3BYb,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}